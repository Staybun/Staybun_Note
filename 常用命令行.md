## Operations Used

```bash
lscpu   #CPU 型号、核心数、线程数、频率等等
nvidia-smi #显卡
hostname -I    # 服务器ip
# ssh
systemctl status ssh    # 查看 SSH 服务是否在线
sudo systemctl restart ssh # 重启 SSH 服务

#mysql
MySQL84
net start MySQL84   # 启动服务
mysql -u root -p    #连接  123456
CREATE DATABASE test_db;   # 创建数据库
show databases;    # 查看数据库
```

## Docker

``` shell
docker pull xxx  #下载镜像	
docker images # 列出下载过的镜像
docker rmi id # 删除镜像
docker rm id # 删除容器 加-f强制删除
docker run -d xxx # 运行容器  加-d不阻塞当前进程
docker run -p 80:80 xxx # -p 将宿主机的端口映射到容器端口 web服务需要
docker run -v /xxx/xxx:/xxx xxx # 数据持久化,绑定挂载,同步容器与宿主机数据
docker stop xx #停止这个容器
docker ps  #查看容器状态
docker bulid -t staybun_test . #构建镜像
docker login #登录dockerhub,推送镜像
docker bulid -t 用户名/staybun_test . #构建镜像到dockerhub
docker push 用户名/staybun_test	   #推送到dockerhub
docker compose up -d	# 创建多个容器,yaml
docker compose up -d --build 	# 改了代码，需要重新 build 镜像
docker compose build
docker compose down 		# 停止并删除
docker compose down --rmi all
docker compose stop # 停止
docker compose start
# 镜像
{
  "builder": {
    "gc": {
      "defaultKeepStorage": "20GB",
      "enabled": true
    }
  },
  "experimental": false,
  "registry-mirrors": [
    "https://docker.m.daocloud.io",
    "https://docker.1panel.live"
  ]
}
```
```Dockerfile
FROM python:3.13-slim	# 基于哪个“底座镜像”
WORKDIR /app			# 设置容器工作目录（相当于 cd）
COPY . .				# 把当前目录的所有文件复制到镜像的 /app
RUN pip install -r requirements.txt # 在构建镜像时执行命令
CMD ["python", "main.py"]			# 容器启动时默认执行什么
ENTRYPOINT ["python", "main.py"] 	# 容器启动“主程序”（更强硬，不易被覆盖）	ENTRYPOINT 固定，CMD 给默认参数
EXPOSE 8000				# 声明容器会用哪个端口
```


```shell
# docker部署环境示例步骤
git clone https://github.com
docker build -t staybun:1.0 .  # 构建镜像
docker images
docker run --rm -d staybun:1.0  # 构建容器,加--rm跑完自动删除,这是使用Dockerfile
docker run --rm -d -p 8080:8080 staybun:1.0  # web服务,需要端口映射
docker run --rm -v "${PWD}:/app" staybun:1.0  # -v 挂载同步
docker compose up -d --build  # 这是使用compose启动容器,需要yaml
docker ps
docker rmi/rm -f
```

## WSL
```shell
wsl --install -d Ubuntu # wsl下载Ubuntu
wsl -l -v # 查看wsl虚拟机	list：列出 verbose：详细信息
wsl -d Ubuntu	# distribution：发行版 进入ubuntu
wsl -d Ubuntu22.04
wsl --set-default Ubuntu-22.04 #把 Ubuntu-22.04 设为默认, 这样wsl即可进入Linux
staybun  123456
```


## Linux

```shell
vi  # 进入vi编辑器
:q  # 退出
i/Esc  # 进入/退出插入模式
:wq  # 保存并退出
yy/dd/p  # 复制/删除/粘贴
:set number # 进入尾行模式,显示行号
u   # 相当于undo,撤销

/mnt/c/Users/admin   # 相当于 C:\Users\admin
ls                   # 列出目录中的内容
pwd                  # 显示当前目录
mv f1.txt f2.txt     # 把f1重命名为f2
mkdir -p x/x/x  #创建多级目录,创建的是文件夹
touch 1.txt  # 创建文件
cp f1.txt f2.txt # 复制f1文件,生成f2文件
rm file.txt  #删除单个文件
rm -r demo #递归删除某个目录,就算里面有内容
rm -rf work_dirs/traffic_lora      # -r 递归删除目录  -f 强制删除，不询问，不报错
chmod 644 config.yml  # 自己可写，其他人只读
chmod 755 deploy.sh	  # 自己可写可执行，其他人可读可执行
chmod 600 id_rsa	  # 只有自己可读写
chmod +x start.sh
#常用参数
-r  # 递归,recursive
-f  # 强制,force
-a  # all
-l  # long,详细格式
```

<img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20251230195339806.png" alt="image-20251230195339806" style="zoom: 33%;" />

## Git

```shell
git clone url
git pull  								# git fetch + git merge, 远程仓库拉取到本地
git pull --rebase						# 提交历史干净、线性、好读
git init 								# 在当前项目目录创建 .git/
git add . 								# 把当前目录下的改动，加入暂存区
git commit -m "init project" 			# -m 后面是提交说明
git commit -am "msg"  					# 快速提交,但是不会提交新增文件
git remote add origin <GitHub地址> 	   # 建立远程仓库
git push -u origin main   				# -u：建立“默认跟踪关系”
git status 								# 查看暂存区状态
git restore --staged 文件  			   # 取消 add
git restore 文件  					   # 丢弃工作区改动
git branch  							# 查看分支
git log, git show 3c6eb1c				# 查看日志,空格下一页,q退出
git branch								# 查看分支
git checkout -b	feature					# 基于当前分支创建分支
git switch main							# 切换分支
git branch -d feature					# 删除分支
git diff								# 比较工作区与暂存区差异
git tag v1.0							
git push --tag							# 本地tag push到远端
git tag -d v1.0							# 删除本地tag
git push origin --delete v1.0			# 删除远端tag
```

